<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Observable Plot downloads</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="./_observablehq/theme-air,near-midnight,wide.css">
<link rel="preload" as="style" href="./_observablehq/stdlib/inputs.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="./_observablehq/theme-air,near-midnight,wide.css">
<link rel="stylesheet" type="text/css" href="./_observablehq/stdlib/inputs.css">
<link rel="modulepreload" href="./_observablehq/client.js">
<link rel="modulepreload" href="./_observablehq/runtime.js">
<link rel="modulepreload" href="./_observablehq/stdlib.js">
<link rel="modulepreload" href="./_npm/d3-dsv@3.0.1/+esm.js">
<link rel="modulepreload" href="./_observablehq/stdlib/inputs.js">
<link rel="modulepreload" href="./_npm/@observablehq/plot@0.6.14/+esm.js">
<link rel="modulepreload" href="./_npm/htl@0.3.1/+esm.js">
<link rel="modulepreload" href="./_npm/isoformat@0.2.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3@7.9.0/+esm.js">
<link rel="modulepreload" href="./_npm/interval-tree-1d@1.0.4/+esm.js">
<link rel="modulepreload" href="./_npm/d3-array@3.2.4/+esm.js">
<link rel="modulepreload" href="./_npm/d3-axis@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-brush@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-chord@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-color@3.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-contour@4.0.2/+esm.js">
<link rel="modulepreload" href="./_npm/d3-delaunay@6.0.4/+esm.js">
<link rel="modulepreload" href="./_npm/d3-dispatch@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-drag@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-ease@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-fetch@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-force@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-format@3.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-geo@3.1.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-hierarchy@3.1.2/+esm.js">
<link rel="modulepreload" href="./_npm/d3-interpolate@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-path@3.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-polygon@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-quadtree@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-random@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-scale@4.0.2/+esm.js">
<link rel="modulepreload" href="./_npm/d3-scale-chromatic@3.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-selection@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-shape@3.2.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-time@3.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-time-format@4.1.0/+esm.js">
<link rel="modulepreload" href="./_npm/d3-timer@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-transition@3.0.1/+esm.js">
<link rel="modulepreload" href="./_npm/d3-zoom@3.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/binary-search-bounds@2.0.5/+esm.js">
<link rel="modulepreload" href="./_npm/internmap@2.0.3/+esm.js">
<link rel="modulepreload" href="./_npm/delaunator@5.0.0/+esm.js">
<link rel="modulepreload" href="./_npm/robust-predicates@3.0.2/+esm.js">
<script type="module">

import {define} from "./_observablehq/client.js";
import {registerFile} from "./_observablehq/stdlib.js";

registerFile("./data/FreemanZiemba2013.csv", {"name":"./data/FreemanZiemba2013.csv","mimeType":"text/csv","path":"./_file/data/FreemanZiemba2013.2d83dd78.csv"});
registerFile("./data/majajhong2015.csv", {"name":"./data/majajhong2015.csv","mimeType":"text/csv","path":"./_file/data/majajhong2015.ea8aeefb.csv"});
registerFile("./data/siegel15-V4-var99.csv", {"name":"./data/siegel15-V4-var99.csv","mimeType":"text/csv","path":"./_file/data/siegel15-V4-var99.9c124ab3.csv"});
registerFile("./data/ultrametric.csv", {"name":"./data/ultrametric.csv","mimeType":"text/csv","path":"./_file/data/ultrametric.36238027.csv"});

define({id: "73f03e52", inputs: ["FileAttachment"], outputs: ["datasets","datasetIds"], body: (FileAttachment) => {
// TODO: not working
// const datasetScores = {
//   "ultrametric": FileAttachment("data/ultrametric.csv").csv({typed: true}),
//   "siegel15-V4-var99": FileAttachment("data/siegel15-V4-var99.csv").csv({typed: true}),
//   "MajajHong2015": FileAttachment("data/majajhong2015.csv").csv({typed: true}),
// };
// const datasetIds = Object.keys(datasetScores);

// const datasets = [
//   {id: "ultrametric", name: "Ultrametric", data: FileAttachment("data/ultrametric.csv").csv({typed: true})},
//   {id: "siegel15-V4-var99", name: "Siegel15 V4 Var99", data: FileAttachment("data/siegel15-V4-var99.csv").csv({typed: true})},
//   {id: "majajhong2015", name: "MajajHong2015", data: FileAttachment("data/majajhong2015.csv").csv({typed: true})},
//   {id: "FreemanZiemba2013", name: "FreemanZiemba2013", data: FileAttachment("data/FreemanZiemba2013.csv").csv({typed: true})},
// ]
// const datasetIds = datasets.map(d => d.id);

const datasets = new Map([
  ["ultrametric", FileAttachment("data/ultrametric.csv").csv({typed: true})],
  ["siegel15-V4-var99", FileAttachment("data/siegel15-V4-var99.csv").csv({typed: true})],
  ["majajhong2015", FileAttachment("data/majajhong2015.csv").csv({typed: true})],
  ["FreemanZiemba2013", FileAttachment("data/FreemanZiemba2013.csv").csv({typed: true})],
]);
const datasetIds = Array.from(datasets.keys());
return {datasets,datasetIds};
}});

define({id: "9186eecf", inputs: ["view","Inputs","datasets"], outputs: ["selectedData"], body: (view,Inputs,datasets) => {
const selectedData = view(Inputs.select(datasets, {label: "Dataset"}))
return {selectedData};
}});

define({id: "ec43caf8", inputs: ["selectedData","view","Inputs"], outputs: ["defaultMeasures","measures","selectedMeasures"], body: (selectedData,view,Inputs) => {
const defaultMeasures = ["cka", "procrustes-angular-score"]
// const measures = scores.map(d => d.measure).filter((v, i, a) => a.indexOf(v) === i);
const measures = selectedData.map(d => d.measure).filter((v, i, a) => a.indexOf(v) === i);
const selectedMeasures = view(Inputs.checkbox(measures, {label: "Measures", value: defaultMeasures}));
return {defaultMeasures,measures,selectedMeasures};
}});

define({id: "c9425610", inputs: ["selectedData","selectedMeasures","Plot","display"], outputs: ["filteredScores","plotScores"], body: (selectedData,selectedMeasures,Plot,display) => {
// const scores = datasetScores.ultrametric;
// const filteredScores = scores.filter(d => selectedMeasures.includes(d.measure));
const filteredScores = selectedData.filter(d => selectedMeasures.includes(d.measure));
const plotScores = Plot.plot({
  color: {legend: true},
  marks: [
    Plot.line(
      filteredScores, 
      {
        x: "score",
        y: "decoding_accuracy",
        stroke: "measure",
        tip: true,
        strokeWidth: 3
    })
  ],
  style: {
    fontSize: "12px",
  }
})
display(plotScores);
return {filteredScores,plotScores};
}});

</script>
<div id="observablehq-center">
<main id="observablehq-main" class="observablehq">
<style>

.inputs-3a86ea {

}

.hero {
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: var(--sans-serif);
  /* margin: 4rem 0 8rem; */
  /* text-wrap: balance; */
  justify-content: center;
  padding: 
}

.hero p {
    text-align: justify;
}
.hero h1 {
  text-align: center;
  /* margin: 1rem 0; */
  max-width: 70vw;
  font-size: 35px;
  /* font-weight: 900; */
  font-weight: 750;
  line-height: 1.5;
  /* background: linear-gradient(30deg, var(--theme-foreground-focus), currentColor);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text; */
}

.hero h2 {
  margin: 0;
  max-width: 70vw;
  font-size: 20px;
  font-style: initial;
  font-weight: 500;
  line-height: 1.5;
  color: var(--theme-foreground-muted);
}

</style>
<div class="hero">
<h1>Differentiable Optimization of Similarity Scores Between Models and Brains</h1>
<h2>Nathan Cloos, Markus Siegel, Scott L. Brincat, Earl K. Miller, Christopher J. Cueva</h2>
<div id="cell-73f03e52" class="observablehq observablehq--block"></div>
<div id="cell-9186eecf" class="observablehq observablehq--block"></div>
<div id="cell-ec43caf8" class="observablehq observablehq--block"></div>
<div id="cell-c9425610" class="observablehq observablehq--block"></div>
<h3>Abstract</h3>
<p>
What metrics should guide the development of more realistic models of the brain? One proposal is to quantify the similarity between models and brains using methods such as linear regression, Centered Kernel Alignment (CKA), and Procrustes distance. To better understand the limitations of these similarity measures we analyze neural activity recorded in two experiments on nonhuman primates, and optimize synthetic datasets to become more similar to these neural recordings. How similar can these synthetic datasets be to neural activity while failing to encode task relevant variables? We find that some measures like linear regression and CKA, differ from Procrustes distance, and yield high similarity scores even when task relevant variables cannot be linearly decoded from the synthetic datasets. Synthetic datasets optimized to maximize similarity scores initially learn the first principal component of the target dataset, but Procrustes distance captures higher variance dimensions much earlier than methods like linear regression and CKA. When optimizing data towards neural activity we find the similarity scores at which principal components of this neural activity are learned, is well predicted by replacing neural activity with random datasets with matching distributions of singular values, suggesting new theoretical directions for studying these similarity measures.
</p>
</div>
</main>
<footer id="observablehq-footer">
<div>Built with <a href="https://observablehq.com/" target="_blank">Observable</a> on <a title="2024-03-17T20:59:47">Mar 17, 2024</a>.</div>
</footer>
</div>
